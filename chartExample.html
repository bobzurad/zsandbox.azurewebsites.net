<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Fun with Highcharts</title>

    <script src="js/core/require.js" type="text/javascript"></script>
    <script src="js/core/requireConfig.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="chart"></div>

    <script type="text/javascript">
      require(
        ["jquery", "underscore", "highcharts"],
        function($, _, Highcharts) {
          "use strict";

          $(document).ready(function() {
            $.getJSON("json/chartData.json", function(data, textStatus, jqXHR) {
              //success callback
              $("#chart").highcharts({
                title: {
                  text: "Test Chart"
                },
                tooltip: {
                  shared: true
                },
                xAxis: [{
                  categories: _.pluck(data, "Location"),
                  labels: {
                    rotation: 90
                  }
                }],
                yAxis: [{ // Primary yAxis
                  labels: {
                    style: {
                      color: Highcharts.getOptions().colors[1]
                    }
                  },
                  title: {
                    text: 'Axis0',
                    style: {
                      color: Highcharts.getOptions().colors[1]
                    }
                  }
                }, { // Secondary yAxis
                  title: {
                    text: 'Axis1',
                    style: {
                      color: Highcharts.getOptions().colors[0]
                    }
                  },
                  labels: {
                    style: {
                      color: Highcharts.getOptions().colors[0]
                    }
                  },
                  opposite: true
                }],
                series: [{
                  name: 'Axis1',
                  type: 'column',
                  yAxis: 1,
                  data: _.pluck(data, "Axis1"),
                }, {
                  name: 'Axis0',
                  type: 'spline',
                  data: _.pluck(data, "Axis0"),
                }]
              });
            });
          });
        });
    </script>
  </body>
</html>
